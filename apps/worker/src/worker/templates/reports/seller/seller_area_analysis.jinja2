{#
    Seller Report - Area Sales Analysis Page
    Converted from: application/views/reports/english/seller/pages/5b.php

    Required variables:
    - theme_color               : Hex color for theme accents (default: #0d294b)
    - area_analysis             : Area sales analysis data
      - chart_url               : URL to bar chart image (from quickchart.io or similar)
      - area_min_radius         : Minimum radius distance
      - area_median_radius      : Median radius distance
      - area_max_radius         : Maximum radius distance
      - living_area             : Property living area
      - living_area_low         : Low living area in comps
      - living_area_median      : Median living area
      - living_area_high        : High living area
      - price_per_sqft          : Property price per sqft
      - price_per_sqft_low      : Low price per sqft
      - price_per_sqft_median   : Median price per sqft
      - price_per_sqft_high     : High price per sqft
      - year_built              : Property year built
      - year_low                : Oldest comp year
      - year_median             : Median year
      - year_high               : Newest comp year
      - lot_size                : Property lot size
      - lot_size_low            : Low lot size
      - lot_size_median         : Median lot size
      - lot_size_high           : High lot size
      - bedrooms                : Property bedrooms
      - bedrooms_low            : Low bedrooms
      - bedrooms_median         : Median bedrooms
      - bedrooms_high           : High bedrooms
      - bathrooms               : Property bathrooms
      - bathrooms_low           : Low bathrooms
      - bathrooms_median        : Median bathrooms
      - bathrooms_high          : High bathrooms
      - stories                 : Number of stories
      - pool                    : Pool info
      - pool_low                : Pool low
      - pool_median             : Pool median
      - pool_high               : Pool high
      - sale_price              : Property sale price
      - sale_price_low          : Low sale price
      - sale_price_median       : Median sale price
      - sale_price_high         : High sale price
#}

<style>
    .sales-table-top th {
        font-size: 11px;
        padding: 8px 10px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }
    .data-space td {
        font-size: 12px;
        padding: 6px 10px;
    }
    .monthly-table th,
    .monthly-table2 th {
        font-size: 12px;
        font-weight: 600;
    }
</style>
<div class="page">
    <div class="section page5">

        <header>
            <h2 class="underline title-bold">Area Sales Analysis</h2>
            <p>Sales in the past 12 months</p>
        </header>

        <div style="padding-top: 30px;">
            <div class="row">
                <div class="col-sm-12">
                    <div class="full-img" style="text-align: center;">
                        {% if area_analysis.chart_url %}
                        <img src="{{ area_analysis.chart_url }}" alt="Sales Analysis Chart" style="margin: auto; width: 100%; max-height: 350px; object-fit: contain;">
                        {% else %}
                        <div style="height: 200px; background: #f5f5f5; display: flex; align-items: center; justify-content: center; color: #999;">
                            Sales chart not available
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>

        <div class="table-wrapper" style="margin-top: 40px;">
            <table class="table sales-table-top">
                <thead class="monthly-table">
                    <tr>
                        <th style="border-bottom: 2px solid {{ theme_color | default('#0d294b') }};">Monthly Sales Overview</th>
                        <th style="border-bottom: 2px solid {{ theme_color | default('#0d294b') }};">PIQ</th>
                        <th style="border-bottom: 2px solid {{ theme_color | default('#0d294b') }};">Low</th>
                        <th style="border-bottom: 2px solid {{ theme_color | default('#0d294b') }};">Median</th>
                        <th style="border-bottom: 2px solid {{ theme_color | default('#0d294b') }};">High</th>
                    </tr>
                </thead>

                <tbody class="data-space">
                    <tr>
                        <td>Distance</td>
                        <td>0</td>
                        <td>{{ area_analysis.area_min_radius | default('-') }}</td>
                        <td>{{ area_analysis.area_median_radius | default('-') }}</td>
                        <td>{{ area_analysis.area_max_radius | default('-') }}</td>
                    </tr>

                    <tr>
                        <td>Living Area</td>
                        <td>{{ area_analysis.living_area | default('-') }}</td>
                        <td>{{ area_analysis.living_area_low | default('-') }}</td>
                        <td>{{ area_analysis.living_area_median | default('-') }}</td>
                        <td>{{ area_analysis.living_area_high | default('-') }}</td>
                    </tr>

                    <tr>
                        <td>Price Per Sqft</td>
                        <td>${{ area_analysis.price_per_sqft | default('-') }}</td>
                        <td>${{ area_analysis.price_per_sqft_low | default('-') }}</td>
                        <td>${{ area_analysis.price_per_sqft_median | default('-') }}</td>
                        <td>${{ area_analysis.price_per_sqft_high | default('-') }}</td>
                    </tr>

                    <tr>
                        <td>Year Built</td>
                        <td>{{ area_analysis.year_built | default('-') }}</td>
                        <td>{{ area_analysis.year_low | default('-') }}</td>
                        <td>{{ area_analysis.year_median | default('-') }}</td>
                        <td>{{ area_analysis.year_high | default('-') }}</td>
                    </tr>

                    <tr>
                        <td>Lot Size</td>
                        <td>{{ area_analysis.lot_size | default('-') }}</td>
                        <td>{{ area_analysis.lot_size_low | default('-') }}</td>
                        <td>{{ area_analysis.lot_size_median | default('-') }}</td>
                        <td>{{ area_analysis.lot_size_high | default('-') }}</td>
                    </tr>

                    <tr>
                        <td>Bedrooms</td>
                        <td>{{ area_analysis.bedrooms | default('-') }}</td>
                        <td>{{ area_analysis.bedrooms_low | default('-') }}</td>
                        <td>{{ area_analysis.bedrooms_median | default('-') }}</td>
                        <td>{{ area_analysis.bedrooms_high | default('-') }}</td>
                    </tr>

                    <tr>
                        <td>Baths</td>
                        <td>{{ area_analysis.bathrooms | default('-') }}</td>
                        <td>{{ area_analysis.bathrooms_low | default('-') }}</td>
                        <td>{{ area_analysis.bathrooms_median | default('-') }}</td>
                        <td>{{ area_analysis.bathrooms_high | default('-') }}</td>
                    </tr>

                    <tr>
                        <td>Stories</td>
                        <td>{{ area_analysis.stories | default('-') }}</td>
                        <td>{{ area_analysis.stories | default('-') }}</td>
                        <td>{{ area_analysis.stories | default('-') }}</td>
                        <td>{{ area_analysis.stories | default('-') }}</td>
                    </tr>

                    <tr>
                        <td>Pool</td>
                        <td>{{ area_analysis.pool | default('-') }}</td>
                        <td>{{ area_analysis.pool_low | default('-') }}</td>
                        <td>{{ area_analysis.pool_median | default('-') }}</td>
                        <td>{{ area_analysis.pool_high | default('-') }}</td>
                    </tr>
                </tbody>

                <thead class="monthly-table2">
                    <tr>
                        <th style="border-top: 2px solid {{ theme_color | default('#0d294b') }};">Sales Price</th>
                        <th style="border-top: 2px solid {{ theme_color | default('#0d294b') }};">{{ '$' ~ area_analysis.sale_price if area_analysis.sale_price else '' }}</th>
                        <th style="border-top: 2px solid {{ theme_color | default('#0d294b') }};">${{ area_analysis.sale_price_low | default('-') }}</th>
                        <th style="border-top: 2px solid {{ theme_color | default('#0d294b') }};">${{ area_analysis.sale_price_median | default('-') }}</th>
                        <th style="border-top: 2px solid {{ theme_color | default('#0d294b') }};">${{ area_analysis.sale_price_high | default('-') }}</th>
                    </tr>
                </thead>
            </table>
        </div>

    </div>
</div>
