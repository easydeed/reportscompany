{#
    Teal Theme - Range of Sales Page
    ================================
    Converted from V0-generated range-of-sales.html
    
    Required variables:
    - property.latitude         : Property latitude (for map)
    - property.longitude        : Property longitude (for map)
    - range_of_sales.total_comps: Total number of comparables
    - range_of_sales.avg_sqft   : Average square footage
    - range_of_sales.avg_beds   : Average bedrooms
    - range_of_sales.avg_baths  : Average bathrooms
    - range_of_sales.price_min  : Minimum price (e.g., "470")
    - range_of_sales.price_max  : Maximum price (e.g., "635")
    - google_maps_api_key       : Google Maps API key
#}

<style>
  /* Teal Range of Sales Page Styles */
  .teal-range-of-sales {
    width: 8.5in;
    height: 11in;
    background: white;
    padding: 0.6in 0.6in 0.5in;
    position: relative;
    overflow: hidden;
    margin: 0 auto;
    page-break-after: always;
  }

  /* Header Section */
  .teal-range-of-sales .header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 8px;
  }

  .teal-range-of-sales .header h1 {
    font-size: 42px;
    font-weight: 900;
    color: #16d3ba;
    letter-spacing: 0.5px;
    text-transform: uppercase;
    margin: 0;
  }

  .teal-range-of-sales .header-accent {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-left: auto;
  }

  .teal-range-of-sales .dash {
    width: 28px;
    height: 5px;
    background: #16d3ba;
  }

  .teal-range-of-sales .long-dash {
    width: 150px;
    height: 5px;
    background: #16d3ba;
  }

  .teal-range-of-sales .subtitle {
    font-size: 15px;
    font-weight: 700;
    color: #2d2d2d;
    letter-spacing: 0.5px;
    margin-bottom: 20px;
    text-transform: uppercase;
  }

  /* Map Container */
  .teal-range-of-sales .map-container {
    width: 100%;
    height: 380px;
    background: #e8e8e8;
    border-radius: 4px;
    overflow: hidden;
    position: relative;
    margin-bottom: 0;
  }

  .teal-range-of-sales .map-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  /* Map Pin */
  .teal-range-of-sales .map-pin {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -100%);
    width: 60px;
    height: 60px;
    z-index: 10;
  }

  .teal-range-of-sales .pin-outer {
    width: 60px;
    height: 60px;
    background: #1e3a5f;
    border-radius: 50% 50% 50% 0;
    transform: rotate(-45deg);
    position: relative;
    border: 4px solid #1e3a5f;
  }

  .teal-range-of-sales .pin-inner {
    width: 24px;
    height: 24px;
    background: white;
    border-radius: 50%;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }

  .teal-range-of-sales .pin-shadow {
    position: absolute;
    bottom: -12px;
    left: 50%;
    transform: translateX(-50%) rotate(45deg);
    width: 40px;
    height: 12px;
    background: rgba(30, 58, 95, 0.3);
    border-radius: 50%;
    filter: blur(4px);
  }

  /* Stats Bar */
  .teal-range-of-sales .stats-bar {
    background: #1e3a5f;
    padding: 28px 40px;
    display: flex;
    justify-content: space-around;
    align-items: center;
    margin-bottom: 32px;
  }

  .teal-range-of-sales .stat-item {
    text-align: center;
  }

  .teal-range-of-sales .stat-value {
    font-size: 78px;
    font-weight: 900;
    color: #16d3ba;
    line-height: 1;
    margin-bottom: 8px;
    letter-spacing: -1px;
  }

  .teal-range-of-sales .stat-label {
    font-size: 16px;
    font-weight: 700;
    color: white;
    letter-spacing: 0.3px;
  }

  /* Price Range Slider */
  .teal-range-of-sales .price-range-container {
    margin: 0 60px 32px;
    position: relative;
    padding-top: 15px;
  }

  .teal-range-of-sales .price-labels {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    position: relative;
    margin-bottom: 12px;
  }

  .teal-range-of-sales .price-point {
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
  }

  .teal-range-of-sales .price-value {
    font-size: 22px;
    font-weight: 900;
    color: #2d2d2d;
    margin-bottom: 8px;
  }

  .teal-range-of-sales .price-indicator {
    width: 0;
    height: 0;
    border-left: 12px solid transparent;
    border-right: 12px solid transparent;
    border-top: 14px solid #16d3ba;
    margin-bottom: -2px;
  }

  .teal-range-of-sales .slider-line {
    width: 100%;
    height: 4px;
    background: #d0d0d0;
    position: relative;
    border-radius: 2px;
  }

  .teal-range-of-sales .slider-line::before {
    content: '';
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 18px;
    height: 18px;
    background: #16d3ba;
    border-radius: 50%;
    border: 3px solid #1e3a5f;
    z-index: 2;
  }

  .teal-range-of-sales .slider-line::after {
    content: '';
    position: absolute;
    right: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 18px;
    height: 18px;
    background: #16d3ba;
    border-radius: 50%;
    border: 3px solid #1e3a5f;
    z-index: 2;
  }

  /* Bottom Text */
  .teal-range-of-sales .explanation-text {
    font-size: 13px;
    line-height: 1.7;
    color: #2d2d2d;
    text-align: center;
    padding: 0 40px;
    font-weight: 400;
  }
</style>

<div class="teal-range-of-sales">
  <!-- Header -->
  <div class="header">
    <h1>RANGE OF SALES</h1>
    <div class="header-accent">
      <div class="dash"></div>
      <div class="dash"></div>
      <div class="long-dash"></div>
    </div>
  </div>

  <div class="subtitle">BASED ON RECENT COMPARABLE SALES.</div>

  <!-- Map Section -->
  {% set lat = property.latitude | default(34.1234) %}
  {% set lng = property.longitude | default(-117.7654) %}
  {% set map_url = 'https://maps.googleapis.com/maps/api/staticmap?center=' ~ lat ~ ',' ~ lng ~ '&zoom=14&size=816x400&maptype=roadmap&markers=color:0x1e3a5f%7C' ~ lat ~ ',' ~ lng ~ '&key=' ~ google_maps_api_key %}
  
  <div class="map-container">
    <img src="{{ map_url }}" alt="Area Map" class="map-image">
    <div class="map-pin">
      <div class="pin-outer">
        <div class="pin-inner"></div>
      </div>
      <div class="pin-shadow"></div>
    </div>
  </div>

  <!-- Stats Bar -->
  <div class="stats-bar">
    <div class="stat-item">
      <div class="stat-value">{{ range_of_sales.total_comps | default('4') }}</div>
      <div class="stat-label">Total Comps</div>
    </div>
    <div class="stat-item">
      <div class="stat-value">{{ range_of_sales.avg_sqft | default('830') }}</div>
      <div class="stat-label">Avg. Sqft</div>
    </div>
    <div class="stat-item">
      <div class="stat-value">{{ range_of_sales.avg_beds | default('2') }}</div>
      <div class="stat-label">Avg. #Beds</div>
    </div>
    <div class="stat-item">
      <div class="stat-value">{{ range_of_sales.avg_baths | default('1') }}</div>
      <div class="stat-label">Avg. #Baths</div>
    </div>
  </div>

  <!-- Price Range Slider -->
  <div class="price-range-container">
    <div class="price-labels">
      <div class="price-point">
        <div class="price-value">${{ range_of_sales.price_min | default('470') }}K</div>
        <div class="price-indicator"></div>
      </div>
      <div class="price-point">
        <div class="price-value">${{ range_of_sales.price_max | default('635') }}K</div>
        <div class="price-indicator"></div>
      </div>
    </div>
    <div class="slider-line"></div>
  </div>

  <!-- Explanation Text -->
  <div class="explanation-text">
    Above are the average property details for homes that are close in proximity to yours AND have been sold within the last 12-months. The range represents the low AND the high sales price for the properties that were sold in the last 12-months. Only the properties that closely match yours were used. The factors that were analyzed were Square Footage, No. Of Beds, No. of Baths, & Lot Size.
  </div>
</div>

