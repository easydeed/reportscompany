{#
    Teal Theme - Master Report Template
    ===================================
    Orchestrates the complete Teal theme seller report by combining all pages.
    
    This template is rendered directly (not through the existing seller_report.jinja2)
    to use the V0-generated pixel-perfect designs.
    
    Required variables:
    - property                  : Property object with all fields
    - agent                     : Agent object with contact info
    - comparables               : Array of comparable properties
    - range_of_sales            : Statistics object
    - area_analysis             : Area analysis statistics
    - google_maps_api_key       : Google Maps API key
    - assets_base_url           : Base URL for static assets
    - cover_image_url           : Hero image URL (optional)
    - page_set                  : "full", "compact", or array of page IDs
#}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Seller's Report - {{ property.street | default('Property Report') }}</title>
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800;900&family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
  
  <style>
    /* ==========================================================================
       Global Reset & Base Styles
       ========================================================================== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --teal: #16d3ba;
      --navy: #1e3a5f;
      --white: #ffffff;
      --dark: #2d2d2d;
      --gray: #666666;
      --light-gray: #f5f5f5;
    }

    body {
      font-family: 'Montserrat', 'Poppins', sans-serif;
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
      background: #f0f0f0;
    }

    @page {
      size: 8.5in 11in;
      margin: 0;
    }

    @media print {
      body {
        background: white;
      }
      
      .page-break {
        page-break-after: always;
      }
    }

    /* Page break utility */
    .page-break {
      page-break-after: always;
      height: 0;
      margin: 0;
      padding: 0;
    }

    /* Print background colors */
    * {
      -webkit-print-color-adjust: exact !important;
      print-color-adjust: exact !important;
      color-adjust: exact !important;
    }
  </style>
</head>
<body>
  {# ============================================================================
     PAGE SET CONFIGURATION
     ============================================================================ #}
  
  {# Define available pages #}
  {% set full_pages = [
    "cover",
    "contents",
    "aerial",
    "property_details",
    "area_analysis",
    "comparables",
    "range_of_sales"
  ] %}
  
  {# Compact version has fewer pages #}
  {% set compact_pages = [
    "cover",
    "contents",
    "aerial",
    "property_details",
    "comparables",
    "range_of_sales"
  ] %}
  
  {# Determine active pages #}
  {% if page_set is defined %}
    {% if page_set == 'full' %}
      {% set active_pages = full_pages %}
    {% elif page_set == 'compact' %}
      {% set active_pages = compact_pages %}
    {% elif page_set is iterable and page_set is not string %}
      {% set active_pages = page_set %}
    {% else %}
      {% set active_pages = compact_pages %}
    {% endif %}
  {% else %}
    {% set active_pages = compact_pages %}
  {% endif %}
  
  {# ============================================================================
     RENDER PAGES
     ============================================================================ #}
  
  {% if "cover" in active_pages %}
    {% include 'property/teal/teal_cover.jinja2' %}
    <div class="page-break"></div>
  {% endif %}
  
  {% if "contents" in active_pages %}
    {% include 'property/teal/teal_contents.jinja2' %}
    <div class="page-break"></div>
  {% endif %}
  
  {% if "aerial" in active_pages %}
    {% include 'property/teal/teal_aerial.jinja2' %}
    <div class="page-break"></div>
  {% endif %}
  
  {% if "property_details" in active_pages %}
    {% include 'property/teal/teal_property_details.jinja2' %}
    <div class="page-break"></div>
  {% endif %}
  
  {% if "area_analysis" in active_pages %}
    {% include 'property/teal/teal_area_analysis.jinja2' %}
    <div class="page-break"></div>
  {% endif %}
  
  {% if "comparables" in active_pages %}
    {% include 'property/teal/teal_comparables.jinja2' %}
    <div class="page-break"></div>
  {% endif %}
  
  {% if "range_of_sales" in active_pages %}
    {% include 'property/teal/teal_range_of_sales.jinja2' %}
    {# No page break after last page #}
  {% endif %}

</body>
</html>

